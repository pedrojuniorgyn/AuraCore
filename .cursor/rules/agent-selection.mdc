---
description: Guia de seleÃ§Ã£o de agentes Cursor para otimizar execuÃ§Ã£o de tarefas. OBRIGATÃ“RIO - Todo agente DEVE consultar este arquivo e verificar se Ã© adequado ANTES de executar qualquer prompt.
globs: "**/*"
alwaysApply: true
---

# GUIA DE SELEÃ‡ÃƒO DE AGENTES CURSOR

**VersÃ£o:** 1.1.0  
**Data:** 25/01/2026  
**Projeto:** AuraCore ERP LogÃ­stico

---

## ğŸš¨ INSTRUÃ‡ÃƒO OBRIGATÃ“RIA PARA TODOS OS AGENTES

### Auto-VerificaÃ§Ã£o de AdequaÃ§Ã£o (EXECUTAR SEMPRE)

Ao receber **QUALQUER** prompt, o agente **DEVE OBRIGATORIAMENTE**:

1. **Identificar** a complexidade e tipo da tarefa
2. **Consultar** a matriz de decisÃ£o abaixo
3. **Verificar** se Ã© o agente adequado
4. **Se NÃƒO for adequado**, PARAR IMEDIATAMENTE e responder:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ AGENTE INADEQUADO PARA ESTA TAREFA                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tarefa: [descriÃ§Ã£o breve]                                  â”‚
â”‚  Complexidade: [TRIVIAL/STANDARD/COMPLEX/CRITICAL]          â”‚
â”‚  Tipo: [HOTFIX/Debugging/Batch/Arquitetural/etc]            â”‚
â”‚                                                              â”‚
â”‚  Agente atual: [seu nome]                                   â”‚
â”‚  Agente recomendado: [da matriz]                            â”‚
â”‚                                                              â”‚
â”‚  Motivo: [justificativa baseada na matriz]                  â”‚
â”‚                                                              â”‚
â”‚  ğŸ‘‰ Por favor, troque para [AGENTE] antes de continuar.     â”‚
â”‚     Menu: Model Selector â†’ Claude [Agente]                  â”‚
â”‚                                                              â”‚
â”‚  OU responda "CONTINUAR MESMO ASSIM" para prosseguir.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

5. **AGUARDAR** confirmaÃ§Ã£o do usuÃ¡rio antes de executar
6. **Se FOR adequado**, iniciar com confirmaÃ§Ã£o breve:

```
âœ… Agente adequado: [seu nome] para [tipo de tarefa]
Iniciando execuÃ§Ã£o...
```

---

## ğŸ¯ IDENTIFICAÃ‡ÃƒO DO AGENTE ATUAL

O agente deve se identificar baseado em suas caracterÃ­sticas:

| Se vocÃª Ã©... | Suas caracterÃ­sticas |
|--------------|---------------------|
| **Sonnet 4.5** | RÃ¡pido, respostas diretas, sem "thinking" visÃ­vel |
| **Sonnet 4.5 Thinking** | MÃ©dio, mostra raciocÃ­nio em blocos thinking |
| **Opus 4.5** | Detalhado, contexto amplo, sem "thinking" visÃ­vel |
| **Opus 4.5 Thinking** | Lento, raciocÃ­nio extenso visÃ­vel, mÃ¡xima precisÃ£o |

---

## ğŸ“Š MATRIZ DE DECISÃƒO RÃPIDA

### Por Tipo de Tarefa

| Tipo de Tarefa | Agente MÃ­nimo | CrÃ­tico? |
|----------------|---------------|----------|
| HOTFIX (deploy quebrado) | **Opus 4.5** | ğŸ”´ SIM |
| CÃ³digo SPED/Fiscal | **Opus 4.5** | ğŸ”´ SIM |
| CÃ³digo Financeiro | **Opus 4.5** | ğŸ”´ SIM |
| Migrations SQL produÃ§Ã£o | **Opus 4.5** | ğŸ”´ SIM |
| Debugging complexo | **Opus 4.5 Thinking** | ğŸŸ¡ |
| RefatoraÃ§Ã£o arquitetural | **Opus 4.5 Thinking** | ğŸŸ¡ |
| AnÃ¡lise causa raiz | **Opus 4.5 Thinking** | ğŸŸ¡ |
| Batch correÃ§Ãµes simples | **Sonnet 4.5** | ğŸŸ¢ |
| ValidaÃ§Ã£o/VerificaÃ§Ã£o | **Sonnet 4.5** | ğŸŸ¢ |
| Testes unitÃ¡rios | **Sonnet 4.5** | ğŸŸ¢ |
| DocumentaÃ§Ã£o | **Sonnet 4.5** | ğŸŸ¢ |

### Por Palavras-Chave no Prompt

| Se o prompt contÃ©m... | Agente MÃ­nimo |
|-----------------------|---------------|
| "HOTFIX", "urgente", "deploy quebrado" | **Opus 4.5** |
| "SPED", "NFe", "CTe", "fiscal", "tributÃ¡rio" | **Opus 4.5** |
| "financeiro", "pagamento", "tÃ­tulo", "contÃ¡bil" | **Opus 4.5** |
| "migration", "SQL", "produÃ§Ã£o", "banco" | **Opus 4.5** |
| "debugging", "causa raiz", "impossÃ­vel" | **Opus 4.5 Thinking** |
| "arquitetura", "refatoraÃ§Ã£o", "DDD" | **Opus 4.5 Thinking** |
| "batch", "vÃ¡rios arquivos", "repetitivo" | **Sonnet 4.5** |
| "verificar", "validar", "checar" | **Sonnet 4.5** |
| "teste", "spec", "unit test" | **Sonnet 4.5** |

### Por MÃ³dulo AuraCore

| MÃ³dulo | Agente MÃ­nimo |
|--------|---------------|
| `src/modules/fiscal/` | **Opus 4.5** |
| `src/modules/accounting/` | **Opus 4.5** |
| `src/modules/financial/` | **Opus 4.5** |
| `src/modules/tms/` | Sonnet 4.5 Thinking |
| `src/modules/wms/` | Sonnet 4.5 Thinking |
| `src/modules/strategic/` | Sonnet 4.5 |
| `src/modules/crm/` | Sonnet 4.5 |
| `drizzle/migrations/` | **Opus 4.5** |

---

## ğŸ“‹ PERFIL DETALHADO DOS AGENTES

### Sonnet 4.5 âš¡

```
Velocidade: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ RÃ¡pido
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ Boa
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ MÃ©dio
Custo:      â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ Baixo
```

**Pode executar:**
- âœ… Batch de correÃ§Ãµes simples (>5 arquivos, mesmo padrÃ£o)
- âœ… ValidaÃ§Ãµes e verificaÃ§Ãµes
- âœ… GeraÃ§Ã£o de cÃ³digo boilerplate
- âœ… CorreÃ§Ãµes TypeScript pontuais
- âœ… Testes unitÃ¡rios padronizados
- âœ… DocumentaÃ§Ã£o simples

**NÃƒO deve executar:**
- âŒ HOTFIX urgentes
- âŒ CÃ³digo fiscal/financeiro
- âŒ Debugging complexo
- âŒ DecisÃµes arquiteturais

---

### Sonnet 4.5 Thinking ğŸ§ âš¡

```
Velocidade: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ MÃ©dio
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ Muito Boa
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ Bom
Custo:      â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ MÃ©dio
```

**Pode executar:**
- âœ… Debugging com mÃºltiplas hipÃ³teses
- âœ… RefatoraÃ§Ãµes mÃ©dias
- âœ… AnÃ¡lise de cÃ³digo existente
- âœ… CorreÃ§Ãµes que precisam entender contexto
- âœ… Tudo que Sonnet 4.5 pode

**NÃƒO deve executar:**
- âŒ CÃ³digo fiscal/financeiro crÃ­tico
- âŒ HOTFIX de deploy
- âŒ Migrations em produÃ§Ã£o

---

### Opus 4.5 ğŸ¯

```
Velocidade: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ MÃ©dio-Lento
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ Excelente
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ Amplo
Custo:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ Alto
```

**Pode executar:**
- âœ… HOTFIX crÃ­ticos (deploy quebrado)
- âœ… CÃ³digo fiscal/financeiro (SPED, NFe, CTe)
- âœ… DecisÃµes arquiteturais
- âœ… ImplementaÃ§Ãµes DDD complexas
- âœ… Schemas de banco de dados
- âœ… Migrations SQL
- âœ… Tudo que agentes inferiores podem

**NÃƒO deve executar:**
- âš ï¸ Tarefas triviais (desperdÃ­cio)

---

### Opus 4.5 Thinking ğŸ¯ğŸ§ 

```
Velocidade: â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ Lento
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ MÃ¡xima
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ MÃ¡ximo
Custo:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ Muito Alto
```

**Deve executar:**
- âœ… Debugging de bugs "impossÃ­veis"
- âœ… AnÃ¡lise de causa raiz profunda
- âœ… RefatoraÃ§Ãµes arquiteturais grandes
- âœ… Planejamento de sprints complexos
- âœ… Code review de cÃ³digo crÃ­tico

**NÃƒO deve executar:**
- âŒ Tarefas simples (overkill extremo)
- âŒ Quando tempo Ã© crÃ­tico

---

## ğŸ”„ REGRAS DE ESCALAÃ‡ÃƒO

### Quando Sugerir EscalaÃ§Ã£o

O agente atual deve sugerir escalaÃ§Ã£o se:

1. **Encontrar dificuldade** apÃ³s 2 tentativas
2. **Criar novos bugs** ao corrigir
3. **NÃ£o entender contexto** completo
4. **Precisar de raciocÃ­nio explÃ­cito** que nÃ£o consegue fazer

### Formato de SugestÃ£o de EscalaÃ§Ã£o

```
âš ï¸ SUGESTÃƒO DE ESCALAÃ‡ÃƒO

Encontrei dificuldade em: [descriÃ§Ã£o]
Tentativas: [nÃºmero]
Resultado: [parcial/falhou]

Recomendo escalar para: [agente superior]
Motivo: [justificativa]

Deseja que eu continue tentando ou prefere trocar de agente?
```

---

## ğŸ“ EXEMPLOS DE AUTO-VERIFICAÃ‡ÃƒO

### Exemplo 1: Agente Inadequado

**Prompt recebido:** "HOTFIX urgente - deploy quebrado, corrigir import"

**Resposta do Sonnet 4.5:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ AGENTE INADEQUADO PARA ESTA TAREFA                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tarefa: HOTFIX deploy quebrado                             â”‚
â”‚  Complexidade: CRITICAL                                     â”‚
â”‚  Tipo: HOTFIX urgente                                       â”‚
â”‚                                                              â”‚
â”‚  Agente atual: Sonnet 4.5                                   â”‚
â”‚  Agente recomendado: Opus 4.5                               â”‚
â”‚                                                              â”‚
â”‚  Motivo: HOTFIX de deploy requer mÃ¡xima precisÃ£o.           â”‚
â”‚  Sonnet 4.5 pode cometer erros sob pressÃ£o.                 â”‚
â”‚                                                              â”‚
â”‚  ğŸ‘‰ Por favor, troque para Opus 4.5 antes de continuar.     â”‚
â”‚     Menu: Model Selector â†’ Claude Opus 4.5                  â”‚
â”‚                                                              â”‚
â”‚  OU responda "CONTINUAR MESMO ASSIM" para prosseguir.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Exemplo 2: Agente Adequado

**Prompt recebido:** "Adicionar validaÃ§Ã£o Zod em 10 rotas de API"

**Resposta do Sonnet 4.5:**
```
âœ… Agente adequado: Sonnet 4.5 para batch de validaÃ§Ãµes Zod
Iniciando execuÃ§Ã£o...

[continua com a tarefa]
```

### Exemplo 3: Agente Superior Aceitando Tarefa Simples

**Prompt recebido:** "Verificar se arquivo existe"

**Resposta do Opus 4.5:**
```
âœ… Agente adequado: Opus 4.5 (overqualified, mas pode executar)
Nota: Sonnet 4.5 seria suficiente para esta tarefa.
Iniciando execuÃ§Ã£o...

[continua com a tarefa]
```

---

## âš ï¸ ALERTAS CRÃTICOS

### ğŸ”´ NUNCA Execute com Sonnet 4.5:

1. **CÃ³digo SPED** - Multas R$ 5.000+/mÃªs
2. **CÃ¡lculos tributÃ¡rios** - ICMS, PIS/COFINS, IBS/CBS
3. **Migrations em produÃ§Ã£o** - Risco de perda de dados
4. **HOTFIX de deploy** - UrgÃªncia + criticidade
5. **Schemas financeiros** - Dinheiro envolvido

### ğŸŸ¡ Avalie com Cuidado:

1. **RefatoraÃ§Ãµes** que afetam mÃºltiplos mÃ³dulos
2. **Debugging** sem causa Ã³bvia
3. **CÃ³digo** que interage com sistemas externos

---

## ğŸ“š INTEGRAÃ‡ÃƒO COM REGRASMCP.MDC

Este arquivo complementa o `regrasmcp.mdc`:

1. **regrasmcp.mdc** â†’ O QUE fazer (regras de cÃ³digo)
2. **agent-selection.mdc** â†’ QUEM deve fazer (agente adequado)

Ambos devem ser consultados antes de executar prompts.

---

**FIM DO GUIA - VERIFICAÃ‡ÃƒO OBRIGATÃ“RIA ANTES DE CADA PROMPT**
