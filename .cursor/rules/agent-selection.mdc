---
description: Guia de seleÃ§Ã£o de agentes Cursor para otimizar execuÃ§Ã£o de tarefas. Consultar ANTES de executar prompts para escolher o agente mais adequado.
globs: "**/*.md"
alwaysApply: false
---

# GUIA DE SELEÃ‡ÃƒO DE AGENTES CURSOR

**VersÃ£o:** 1.0.0  
**Data:** 25/01/2026  
**Projeto:** AuraCore ERP LogÃ­stico

---

## ğŸ¯ OBJETIVO

Este guia ajuda a selecionar o agente Cursor mais adequado para cada tipo de tarefa, otimizando:
- **PrecisÃ£o** (menos retrabalho)
- **Velocidade** (tempo de execuÃ§Ã£o)
- **Custo** (tokens consumidos)

---

## ğŸ“Š PERFIL DOS AGENTES

### Sonnet 4.5 âš¡

```
Velocidade: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ RÃ¡pido
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ Boa
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ MÃ©dio
Custo:      â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ Baixo
```

**CaracterÃ­sticas:**
- ExecuÃ§Ã£o rÃ¡pida
- Bom para tarefas repetitivas
- Pode cometer erros em lÃ³gica complexa
- Contexto limitado em arquivos grandes

**Ideal para:**
- âœ… Batch de correÃ§Ãµes simples (muitos arquivos, mesma correÃ§Ã£o)
- âœ… ValidaÃ§Ãµes e verificaÃ§Ãµes
- âœ… GeraÃ§Ã£o de cÃ³digo boilerplate
- âœ… CorreÃ§Ãµes TypeScript pontuais
- âœ… Testes unitÃ¡rios padronizados
- âœ… DocumentaÃ§Ã£o simples

**Evitar em:**
- âŒ Debugging complexo
- âŒ DecisÃµes arquiteturais
- âŒ CÃ³digo crÃ­tico (fiscal, financeiro, SPED)
- âŒ HOTFIX urgentes

---

### Sonnet 4.5 Thinking ğŸ§ âš¡

```
Velocidade: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ MÃ©dio
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ Muito Boa
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ Bom
Custo:      â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ MÃ©dio
```

**CaracterÃ­sticas:**
- Mostra raciocÃ­nio antes de agir
- Melhor para debugging
- Velocidade intermediÃ¡ria
- Bom equilÃ­brio custo/benefÃ­cio

**Ideal para:**
- âœ… Debugging com mÃºltiplas hipÃ³teses
- âœ… RefatoraÃ§Ãµes mÃ©dias
- âœ… AnÃ¡lise de cÃ³digo existente
- âœ… Quando precisa "mostrar o trabalho"
- âœ… CorreÃ§Ãµes que envolvem entender contexto

**Evitar em:**
- âŒ Tarefas triviais (overkill)
- âŒ Batch de muitos arquivos (lento)
- âŒ CÃ³digo extremamente crÃ­tico

---

### Opus 4.5 ğŸ¯

```
Velocidade: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ MÃ©dio-Lento
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ Excelente
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ Amplo
Custo:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ Alto
```

**CaracterÃ­sticas:**
- Maior capacidade de raciocÃ­nio
- Entende padrÃµes complexos (DDD, Hexagonal)
- Menos propenso a erros
- Contexto amplo

**Ideal para:**
- âœ… HOTFIX crÃ­ticos (deploy quebrado)
- âœ… CÃ³digo fiscal/financeiro (SPED, NFe, CTe)
- âœ… DecisÃµes arquiteturais
- âœ… ImplementaÃ§Ãµes DDD complexas
- âœ… Schemas de banco de dados
- âœ… Migrations SQL
- âœ… Quando NÃƒO PODE errar

**Evitar em:**
- âŒ Tarefas simples (desperdÃ­cio de recursos)
- âŒ Batch de correÃ§Ãµes triviais

---

### Opus 4.5 Thinking ğŸ¯ğŸ§ 

```
Velocidade: â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ Lento
PrecisÃ£o:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ MÃ¡xima
Contexto:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ MÃ¡ximo
Custo:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ Muito Alto
```

**CaracterÃ­sticas:**
- RaciocÃ­nio explÃ­cito e detalhado
- MÃ¡xima precisÃ£o possÃ­vel
- Ideal para problemas "impossÃ­veis"
- Custo elevado

**Ideal para:**
- âœ… Debugging de bugs impossÃ­veis
- âœ… AnÃ¡lise de causa raiz profunda
- âœ… RefatoraÃ§Ãµes arquiteturais grandes
- âœ… Planejamento de sprints complexos
- âœ… Quando precisa de raciocÃ­nio explÃ­cito documentado
- âœ… Code review de cÃ³digo crÃ­tico

**Evitar em:**
- âŒ Qualquer tarefa simples
- âŒ ImplementaÃ§Ãµes diretas
- âŒ Quando tempo Ã© crÃ­tico

---

## ğŸ“‹ MATRIZ DE DECISÃƒO POR TIPO DE TAREFA

| Tipo de Tarefa | Agente Recomendado | Alternativa |
|----------------|-------------------|-------------|
| **HOTFIX urgente (deploy)** | Opus 4.5 | Opus 4.5 Thinking |
| **Debugging complexo** | Opus 4.5 Thinking | Opus 4.5 |
| **Batch correÃ§Ãµes (>5 arquivos)** | Sonnet 4.5 | Sonnet 4.5 Thinking |
| **RefatoraÃ§Ã£o arquitetural** | Opus 4.5 Thinking | Opus 4.5 |
| **ValidaÃ§Ã£o/VerificaÃ§Ã£o** | Sonnet 4.5 | - |
| **CriaÃ§Ã£o mÃ³dulos DDD** | Opus 4.5 | Opus 4.5 Thinking |
| **CorreÃ§Ã£o TypeScript** | Sonnet 4.5 | Sonnet 4.5 Thinking |
| **AnÃ¡lise logs deploy** | Opus 4.5 Thinking | Opus 4.5 |
| **Migrations SQL** | Opus 4.5 | Opus 4.5 Thinking |
| **Testes unitÃ¡rios** | Sonnet 4.5 | Sonnet 4.5 Thinking |
| **CÃ³digo SPED/Fiscal** | Opus 4.5 | Opus 4.5 Thinking |
| **CÃ³digo Financeiro** | Opus 4.5 | Opus 4.5 Thinking |
| **Domain Services** | Opus 4.5 | Sonnet 4.5 Thinking |
| **API Routes simples** | Sonnet 4.5 | Sonnet 4.5 Thinking |
| **Schemas Drizzle** | Opus 4.5 | Sonnet 4.5 Thinking |
| **DocumentaÃ§Ã£o** | Sonnet 4.5 | - |

---

## ğŸ·ï¸ TAGS DE COMPLEXIDADE

Use estas tags nos prompts para indicar complexidade:

| Tag | Significado | Agente Sugerido |
|-----|-------------|-----------------|
| `[TRIVIAL]` | Tarefa simples, baixo risco | Sonnet 4.5 |
| `[STANDARD]` | Tarefa comum, risco moderado | Sonnet 4.5 Thinking |
| `[COMPLEX]` | MÃºltiplas dependÃªncias, alto impacto | Opus 4.5 |
| `[CRITICAL]` | NÃ£o pode errar, deploy/fiscal/financial | Opus 4.5 |
| `[IMPOSSIBLE]` | Bug difÃ­cil, precisa raciocÃ­nio explÃ­cito | Opus 4.5 Thinking |

---

## ğŸ“ TEMPLATE DE CABEÃ‡ALHO PARA PROMPTS

```markdown
# [NOME DO PROMPT]

## ğŸ¤– AGENTE RECOMENDADO: [Opus 4.5 / Sonnet 4.5 / etc]
**Complexidade:** [TRIVIAL / STANDARD / COMPLEX / CRITICAL / IMPOSSIBLE]
**Motivo:** [Justificativa breve]
**Alternativa:** [Se nÃ£o disponÃ­vel, usar X]

---
[Resto do prompt]
```

---

## ğŸ¯ REGRAS DE ESCALAÃ‡ÃƒO

### Quando Escalar para Agente Superior

1. **Sonnet 4.5 â†’ Sonnet 4.5 Thinking**
   - Se cometer mesmo erro 2x
   - Se nÃ£o entender o contexto
   - Se a correÃ§Ã£o criar novos bugs

2. **Sonnet 4.5 Thinking â†’ Opus 4.5**
   - Se nÃ£o encontrar causa raiz
   - Se a soluÃ§Ã£o for parcial
   - Se envolver mÃºltiplos mÃ³dulos

3. **Opus 4.5 â†’ Opus 4.5 Thinking**
   - Se o problema for recorrente
   - Se precisar de anÃ¡lise profunda
   - Se for cÃ³digo de compliance (SPED, fiscal)

### Quando Desescalar para Agente Inferior

1. **Opus 4.5 Thinking â†’ Opus 4.5**
   - ApÃ³s entender o problema
   - Para implementaÃ§Ã£o direta
   - Quando jÃ¡ tem a soluÃ§Ã£o clara

2. **Opus 4.5 â†’ Sonnet 4.5**
   - Para batch de correÃ§Ãµes similares
   - ApÃ³s estabelecer o padrÃ£o
   - Para tarefas de validaÃ§Ã£o

---

## ğŸ“Š EXEMPLOS PRÃTICOS - AURACORE

### Sprint Blindagem

| Prompt | Agente Ideal | Motivo |
|--------|--------------|--------|
| S1.1 Batch Zod Validation | Sonnet 4.5 | Batch repetitivo, mesmo padrÃ£o |
| S1.2 Multi-tenancy Schemas | Opus 4.5 | Schemas crÃ­ticos, DDD |
| S1.3 Result Pattern | Opus 4.5 | RefatoraÃ§Ã£o arquitetural |
| HOTFIX table-creator | Opus 4.5 | CrÃ­tico, deploy quebrado |
| HOTFIX-2 Zod Refinement | Opus 4.5 Thinking | Debugging causa raiz |
| VerificaÃ§Ã£o pÃ³s-hotfix | Sonnet 4.5 | Checagem simples |

### MÃ³dulos por Criticidade

| MÃ³dulo | Agente MÃ­nimo | Motivo |
|--------|---------------|--------|
| Fiscal (SPED, NFe, CTe) | Opus 4.5 | Multas R$ 5.000+ |
| Financial (tÃ­tulos, pagamentos) | Opus 4.5 | Dinheiro, auditoria |
| Accounting (contabilizaÃ§Ã£o) | Opus 4.5 | SPED ECD, compliance |
| TMS (viagens, fretes) | Sonnet 4.5 Thinking | Operacional |
| WMS (estoque) | Sonnet 4.5 Thinking | Operacional |
| Strategic (BSC, OKR) | Sonnet 4.5 | Menor criticidade |
| CRM | Sonnet 4.5 | Menor criticidade |

---

## âš ï¸ ALERTAS IMPORTANTES

### Nunca Use Sonnet 4.5 Para:

1. **CÃ³digo SPED** - Multas por erro podem chegar a R$ 5.000/mÃªs
2. **CÃ¡lculos tributÃ¡rios** - ICMS, PIS/COFINS, IBS/CBS
3. **Migrations em produÃ§Ã£o** - Risco de perda de dados
4. **HOTFIX de deploy** - UrgÃªncia + criticidade
5. **Schemas financeiros** - Dinheiro envolvido

### Sempre Documente a Escolha

Ao receber um prompt, o agente atual deve:
1. Verificar se Ã© o agente adequado
2. Se nÃ£o for, sugerir escalaÃ§Ã£o
3. Informar ao usuÃ¡rio antes de comeÃ§ar

---

## ğŸ”„ FLUXO DE DECISÃƒO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Recebeu prompt                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Avaliar complexidade e risco         â”‚
â”‚    - Ã‰ cÃ³digo fiscal/financeiro?        â”‚
â”‚    - Pode quebrar deploy?               â”‚
â”‚    - Envolve mÃºltiplos mÃ³dulos?         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Consultar matriz de decisÃ£o          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Sugerir agente adequado              â”‚
â”‚    (se diferente do atual)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Executar ou aguardar troca           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š REFERÃŠNCIAS

- Anthropic Claude Model Card
- Cursor IDE Documentation
- AuraCore regrasmcp.mdc

---

**FIM DO GUIA - CONSULTAR ANTES DE EXECUTAR PROMPTS**
